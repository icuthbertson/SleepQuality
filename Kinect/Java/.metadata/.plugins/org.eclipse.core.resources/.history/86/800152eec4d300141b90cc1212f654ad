/***************************************************
 * Filename: Message.java
 *
 * Synopsis: Message is an implementation of the IMessage
 *           Interface that is sent back to the client
 *           from the server.
 *
 * Author:
 *      Iain Cuthbertson, Reg no: 201015895
 *
 * Group:
 *      Tues, 3-5
 *
 * Promise: I confirm that this submission is all my own work.
 *
 *          (Signed)__________________________________________
 *
 * Version: See VERSION below
 *
 * v1.0  	13/11/2012: Initial version. Added in the 
 *          accessor methods for getting the digit and 
 *          character counts. Added in setCounts to set the 
 *          charCount and digCount variables. Implemented it
 *          so that the string is turned into a char array so
 *          a for each loop could be used. within the loop
 *          isDigit is used for incrementing digCount, else
 *          charCount is incremented.
 * v1.1     13/11/2012: The else of the if was changed to an else
 *          if ' ' != c so that spaces aren't taken as characters.
 *          Assuming that spaces are not to be taken as characters.
 * v1.2     18/11/2012: The else if was changed again to
 *          isWhitespace so that no white space will be taken 
 *          as a character. Assuming that all whitespace is not
 *          to be take as characters.
 ***************************************************/

//Import serializable so that ObjectOutputStream could be used
//for sending back from the server to the client.
import java.io.Serializable;

//Message implements both IMessage and Serializable
public class Message implements IMessage, Serializable {
    //Fields for the digit and character counts.
    //Initialise the string being passed in.
    int charCount = 0;
    int digCount = 0;
    String text = "";
    
    //Constructor for the message class
    //Takes in a String
    //Calls setCounts();
    public Message(String text) {
        //Set the text field to the string passed in.
        this.text = text;
        //Set the digit and character counts
        setCounts();
    }
    
    //Set the counts of the number of digits and characters
    public void setCounts() {
        //Loop for each of the characters in the String
        //using a char array of the String
        for(char c : text.toCharArray()) {
            //If the character is a digit increment digit count
            if(Character.isDigit(c)) {
                digCount++;
            //If the characters isn't whitespace increment
            //the character count
            } else if(!Character.isWhitespace(c)) {
                charCount++;
            }
        }
    }
    
    //Return the number of characters in the String
    public int getCharacterCount() {
        return charCount;
    }
    
    //Return the number of digits in the String
    public int getDigitCount() {
        return digCount;
    }
}